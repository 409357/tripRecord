(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-553f12af"],{"0eec":function(t,e,a){var n=a("b2f5"),r=a("50e0")(!1);n(n.S,"Object",{values:function(t){return r(t)}})},"1f98":function(t,e,a){"use strict";var n=a("f425"),r=RegExp.prototype.exec,i=String.prototype.replace,c=r,s="lastIndex",o=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),l=void 0!==/()??/.exec("")[1],u=o||l;u&&(c=function(t){var e,a,c,u,d=this;return l&&(a=new RegExp("^"+d.source+"$(?!\\s)",n.call(d))),o&&(e=d[s]),c=r.call(d,t),o&&c&&(d[s]=d.global?c.index+c[0].length:e),l&&c&&c.length>1&&i.call(c[0],a,(function(){for(u=1;u<arguments.length-2;u++)void 0===arguments[u]&&(c[u]=void 0)})),c}),t.exports=c},"22e9":function(t,e,a){var n=a("88dd"),r=a("94ac"),i=a("8b37")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},"2f03":function(t,e,a){var n=a("c481"),r=a("f01a");t.exports=function(t){return function(e,a){var i,c,s=String(r(e)),o=n(a),l=s.length;return o<0||o>=l?t?"":void 0:(i=s.charCodeAt(o),i<55296||i>56319||o+1===l||(c=s.charCodeAt(o+1))<56320||c>57343?t?s.charAt(o):i:t?s.slice(o,o+2):c-56320+(i-55296<<10)+65536)}}},"35dd":function(t,e,a){"use strict";var n=a("4819"),r=RegExp.prototype.exec;t.exports=function(t,e){var a=t.exec;if("function"===typeof a){var i=a.call(t,e);if("object"!==typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==n(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"3a59":function(t,e,a){"use strict";var n=a("1f98");a("b2f5")({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},"4c0d":function(t,e,a){},"50e0":function(t,e,a){var n=a("dad2"),r=a("cfc7"),i=a("3a68"),c=a("d217").f;t.exports=function(t){return function(e){var a,s=i(e),o=r(s),l=o.length,u=0,d=[];while(l>u)a=o[u++],n&&!c.call(s,a)||d.push(t?[a,s[a]]:s[a]);return d}}},"629c":function(t,e,a){"use strict";a("3a59");var n=a("e5ef"),r=a("743d"),i=a("b6f1"),c=a("f01a"),s=a("8b37"),o=a("1f98"),l=s("species"),u=!i((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),d=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var a="ab".split(t);return 2===a.length&&"a"===a[0]&&"b"===a[1]}();t.exports=function(t,e,a){var f=s(t),p=!i((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=p?!i((function(){var e=!1,a=/a/;return a.exec=function(){return e=!0,null},"split"===t&&(a.constructor={},a.constructor[l]=function(){return a}),a[f](""),!e})):void 0;if(!p||!h||"replace"===t&&!u||"split"===t&&!d){var v=/./[f],x=a(c,f,""[t],(function(t,e,a,n,r){return e.exec===o?p&&!r?{done:!0,value:v.call(e,a,n)}:{done:!0,value:t.call(a,e,n)}:{done:!1}})),g=x[0],y=x[1];n(String.prototype,t,g),r(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}}},"7bc1":function(t,e,a){"use strict";var n=a("22e9"),r=a("a013"),i=a("0d5f"),c=a("b0f4"),s=a("b146"),o=a("35dd"),l=a("1f98"),u=a("b6f1"),d=Math.min,f=[].push,p="split",h="length",v="lastIndex",x=4294967295,g=!u((function(){RegExp(x,"y")}));a("629c")("split",2,(function(t,e,a,u){var y;return y="c"=="abbc"[p](/(b)*/)[1]||4!="test"[p](/(?:)/,-1)[h]||2!="ab"[p](/(?:ab)*/)[h]||4!="."[p](/(.?)(.?)/)[h]||"."[p](/()()/)[h]>1||""[p](/.?/)[h]?function(t,e){var r=String(this);if(void 0===t&&0===e)return[];if(!n(t))return a.call(r,t,e);var i,c,s,o=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),d=0,p=void 0===e?x:e>>>0,g=new RegExp(t.source,u+"g");while(i=l.call(g,r)){if(c=g[v],c>d&&(o.push(r.slice(d,i.index)),i[h]>1&&i.index<r[h]&&f.apply(o,i.slice(1)),s=i[0][h],d=c,o[h]>=p))break;g[v]===i.index&&g[v]++}return d===r[h]?!s&&g.test("")||o.push(""):o.push(r.slice(d)),o[h]>p?o.slice(0,p):o}:"0"[p](void 0,0)[h]?function(t,e){return void 0===t&&0===e?[]:a.call(this,t,e)}:a,[function(a,n){var r=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,r,n):y.call(String(r),a,n)},function(t,e){var n=u(y,t,this,e,y!==a);if(n.done)return n.value;var l=r(t),f=String(this),p=i(l,RegExp),h=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(g?"y":"g"),b=new p(g?l:"^(?:"+l.source+")",v),m=void 0===e?x:e>>>0;if(0===m)return[];if(0===f.length)return null===o(b,f)?[f]:[];var D=0,E=0,T=[];while(E<f.length){b.lastIndex=g?E:0;var w,C=o(b,g?f:f.slice(E));if(null===C||(w=d(s(b.lastIndex+(g?0:E)),f.length))===D)E=c(f,E,h);else{if(T.push(f.slice(D,E)),T.length===m)return T;for(var k=1;k<=C.length-1;k++)if(T.push(C[k]),T.length===m)return T;E=D=w}}return T.push(f.slice(D)),T}]}))},a5f7:function(t,e,a){},b0f4:function(t,e,a){"use strict";var n=a("2f03")(!0);t.exports=function(t,e,a){return e+(a?n(t,e).length:1)}},c038:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trend"},[t._m(0),a("lineChart",{ref:"echart1",staticClass:"trend-echart"}),a("lineChart",{ref:"echart2",staticClass:"trend-echart-btm"})],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trend-title"},[a("h2",[t._v("出行趋势")]),a("p",[t._v("最近七天内，2种行程，8种出行方式的里程趋势折线图")])])}],i=(a("0eec"),a("fb37"),a("7bc1"),a("f763"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"echart"},[a("div",{staticClass:"echart-con",attrs:{id:t.echartId}})])}),c=[],s=a("24ce"),o=a.n(s),l={name:"LineChart",data:function(){return{chart:null,echartId:"echart".concat(Math.floor(1e7*Math.random()))}},mounted:function(){},methods:{initChart:function(t,e){this.chart=o.a.init(document.getElementById(this.echartId)),this.chart.setOption({title:{text:t.title,textStyle:{fontSize:"15"}},tooltip:{trigger:"axis"},legend:{data:t.legendData,top:"12%"},grid:{left:"2%",right:"4%",bottom:"0%",top:"22%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e},yAxis:{type:"value"},series:t.seriesData})},echartsUpdata:function(t,e){this.eachartDestroy(),this.initChart(t,e)},destroyed:function(){this.eachartDestroy()},eachartDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)}}},u=l,d=(a("d981"),a("6691")),f=Object(d["a"])(u,i,c,!1,null,"cfab8f0c",null),p=f.exports,h=a("196a"),v={name:"Trend",components:{lineChart:p},data:function(){return{chart:null,xAxisData:["11日","12日","13日","14日","15日","16日","17日"],trafficData:null,tripData:null,data1:{title:"私人出行",legendData:["跑步","徒步","骑行","自驾"],seriesData:[{name:"徒步",type:"line",stack:"里程",data:[20,132,101,134,90,330,210]},{name:"跑步",type:"line",stack:"里程",data:[150,232,201,454,190,330,410]},{name:"骑行",type:"line",stack:"里程",data:[90,122,151,124,200,210,190]},{name:"自驾",type:"line",stack:"里程",data:[189,102,230,410,287,180,200]}]},data2:{title:"公共交通",legendData:["步行","单车","出租","公交"],seriesData:[{name:"步行",type:"line",stack:"里程",data:[90,132,101,134,90,230,210]},{name:"单车",type:"line",stack:"里程",data:[150,292,201,154,190,330,410]},{name:"出租",type:"line",stack:"里程",data:[90,122,151,84,80,210,190]},{name:"公交",type:"line",stack:"里程",data:[89,82,230,210,387,280,100]}]},allData:null}},mounted:function(){h["h"].loading("数据分析中..."),this.fetchData()},methods:{updatefetchData:function(){var t=this,e=(new Date).getDate(),a={};for(var n in this.allData.forEach((function(t){if(t.date=parseInt(t.date.slice(8,10))+1,t.tripType=t.tripType.slice(0,2),a[t.tripType]){var n=a[t.tripType].data[t.date];a[t.tripType].data[t.date]=n?parseInt(n)+parseInt(t.distance):t.distance}else a[t.tripType]={name:t.tripType,type:"line",stack:"里程",data:{}},a[t.tripType].data[e]=0,a[t.tripType].data[e-1]=0,a[t.tripType].data[e-2]=0,a[t.tripType].data[e-3]=0,a[t.tripType].data[e-4]=0,a[t.tripType].data[e-5]=0,a[t.tripType].data[e-6]=0,a[t.tripType].data[t.date]=t.distance})),console.log("-------"),console.log(a),this.xAxisData=Object.keys(a["公交"].data).join().split(","),this.xAxisData.forEach((function(e,a){t.xAxisData[a]=e+"日"})),a)a[n].data=Object.values(a[n].data).join().split(",");console.log(a),this.trafficData={title:"公共交通",legendData:["步行","单车","出租","公交"],seriesData:[a["步行"],a["单车"],a["出租"],a["公交"]]},this.tripData={title:"私人出行",legendData:["徒步","跑步","骑行","自驾"],seriesData:[a["徒步"],a["跑步"],a["骑行"],a["自驾"]]},this.$refs.echart1.echartsUpdata(this.trafficData,this.xAxisData),this.$refs.echart2.echartsUpdata(this.tripData,this.xAxisData),h["h"].hide()},fetchData:function(){var t=this;this.$http.get("/user/tripTrend",{}).then((function(e){console.log(e.data.data),t.allData=e.data.data,t.$refs.echart1.echartsUpdata(t.data1,t.xAxisData),t.$refs.echart2.echartsUpdata(t.data2,t.xAxisData),h["h"].hide()}))}}},x=v,g=(a("c359"),Object(d["a"])(x,n,r,!1,null,"09290a36",null));e["default"]=g.exports},c359:function(t,e,a){"use strict";var n=a("4c0d"),r=a.n(n);r.a},d981:function(t,e,a){"use strict";var n=a("a5f7"),r=a.n(n);r.a},f425:function(t,e,a){"use strict";var n=a("a013");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}}}]);
//# sourceMappingURL=chunk-553f12af.512eab0d.js.map